# Jenkins Job Insight - Environment Variables Template

# ===================
# Jenkins Configuration (Required)
# ===================
JENKINS_URL=https://jenkins.example.com
JENKINS_USER=your-username
JENKINS_PASSWORD=your-api-token
JENKINS_SSL_VERIFY=true

# ===================
# AI CLI Configuration
# ===================
# Choose AI provider (required): "claude", "gemini", or "cursor"
AI_PROVIDER=claude

# AI model to use (required, applies to any provider)
# Can also be set per-request in webhook body
AI_MODEL=your-model-name

# --- Claude CLI Options ---

# Option 1: Direct API key (simplest)
ANTHROPIC_API_KEY=your-anthropic-api-key

# Option 2: Vertex AI authentication
# CLAUDE_CODE_USE_VERTEX=1
# CLOUD_ML_REGION=us-east5
# ANTHROPIC_VERTEX_PROJECT_ID=your-project-id

# --- Gemini CLI Options ---

# Option 1: API key
GEMINI_API_KEY=your-gemini-api-key

# Option 2: OAuth (run: gemini auth login)
# No env vars needed for OAuth

# --- Cursor Agent CLI Options ---

# Choose ONE of the following authentication methods:

# API key
# CURSOR_API_KEY=your-cursor-api-key

# --- AI CLI Timeout ---

# Timeout for AI CLI calls in minutes (default: 10)
# Increase for slower models like gpt-5.2
# AI_CLI_TIMEOUT=10

# ===================
# Logging Configuration
# ===================
# Log level: DEBUG, INFO, WARNING, ERROR (default: INFO)
LOG_LEVEL=INFO

# ===================
# Optional Defaults (can be overridden per-request in webhook)
# ===================

# Tests repository URL
# TESTS_REPO_URL=https://github.com/org/test-repo

# Callback webhook URL for async results
# CALLBACK_URL=https://your-service.com/webhook/results

# Callback headers (JSON format)
# CALLBACK_HEADERS={"Authorization": "Bearer xxx"}


# ===================
# Custom Prompt
# ===================

# Path to custom analysis prompt file
# Mount your own PROMPT.md to customize AI analysis
# PROMPT_FILE=/app/PROMPT.md

# ===================
# Jira Integration (Optional)
# ===================
# Enables searching Jira for existing bugs matching PRODUCT BUG failures.
# When configured, AI analysis includes search keywords and the system
# automatically finds potentially matching Jira issues.

# Jira server URL (Cloud or Server/DC)
# JIRA_URL=https://your-org.atlassian.net

# --- Jira Cloud Authentication ---
# JIRA_EMAIL=your-email@example.com
# JIRA_API_TOKEN=your-jira-api-token

# --- Jira Server/DC Authentication ---
# JIRA_PAT=your-personal-access-token

# Jira project key to scope searches (optional, searches all projects if not set)
# JIRA_PROJECT_KEY=PROJ

# SSL verification for Jira (set to false for self-signed certs)
# JIRA_SSL_VERIFY=true

# Maximum Jira results per search (default: 5)
# JIRA_MAX_RESULTS=5

# ===================
# Development
# ===================

# Enable debug mode
DEBUG=false
